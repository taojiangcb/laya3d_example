{"version":3,"sources":["webpack:///./src/pages/preview/App.vue?95d3","webpack:///./src/pages/preview/App.vue","webpack:///src/pages/preview/App.vue","webpack:///./src/pages/preview/router/index.js","webpack:///./src/pages/preview/main.js","webpack:///./src/common/service/DicService.js","webpack:///./src/common/service/UserService.js","webpack:///./src/store/modules/app.js","webpack:///./src/store/types.js","webpack:///./src/store/index.js","webpack:///./src/common/HttpInterceptor.js","webpack:///./src/common/Config.js"],"names":["render","_h","this","$createElement","_c","_self","attrs","id","staticClass","_withStripped","esExports","staticRenderFns","preview_App","Component","__webpack_require__","normalizeComponent","name","data","mounted","methods","options","__file","pages_preview_App","Vue","use","VueRouter","router","routes","path","components","default","r","require","bind","catch","oe","props","config","productionTip","prototype","CFG","http","el","App","template","created","DicService","findByType","typeArr","configData","Array","isArray","join","get","API_URL","then","response","findArticleType","UserService","getUserInfo","app","state","fetchLoading","title","user","userName","adShapeList","resourcePlatformList","productList","editTemplateData","getters","userCookie","actions","FETCH_LOADING","_ref","res","commit","dicInit","_ref2","dicService","resourcePlatform","product","adShape","editTemplate","_ref3","userLogin","_ref4","userService","mutations","defineProperty_default","_mutations","Promise","window","Vuex","Store","modules","axios","defaults","timeout","axiosDate","interceptors","request","withCredentials","store","token","headers","Authorization","loading","params","Date","dispatch","err","promise_default","a","reject","time","getTime","setTimeout","error","errorMsg","status","code","message","statusText","Message","type","showClose","center","customClass","errorData","__webpack_exports__","NODE_ENV","process","ENV","API_PREVIEW_URL","STATIC_URL","STATIC_PREVIEW_URL","ROOT_URL","API_SSO_URL"],"mappings":"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","file":"static/js/app.eca681557cbe5c5c311e.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"app\" } },\n    [_c(\"router-view\", { staticClass: \"view\" })],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-8c8c8934\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8c8c8934\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/preview/App.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8c8c8934\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/preview/App.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-8c8c8934\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-8c8c8934\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/preview/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view class=\"view\"></router-view>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'App',\n  data () {\n    return {}\n  },\n  mounted () {\n  },\n  methods: {\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/preview/App.vue","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nconst Preview = r => require.ensure([], () => r(require('../../../pages/preview/Preview')), 'preview')\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    {\n      path: '/preview/:id',\n      components: { default: Preview },\n      props: { default: true }\n    }\n  ]\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preview/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport '../../common/css/reset.less'\nimport CFG from '../../common/Config'\nimport http from '../../common/HttpInterceptor'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nVue.prototype.CFG = CFG\nVue.prototype.http = http\nnew Vue({\n  el: '#app',\n  router,\n  http,\n  components: { App },\n  template: '<App/>',\n  created: function () {\n    console.log('APP CREATED CFG', CFG)\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preview/main.js","import http from '../HttpInterceptor'\nimport CFG from '../Config'\n\nconst DicService = {\n  /**\n   * 根据字典表类型查询字典\n   * @param typeArr  Array 或 String 格式\n   * @returns {Promise<AxiosResponse<any> | never>}\n   */\n  findByType (typeArr) {\n    let configData = Array.isArray(typeArr) ? typeArr.join(',') : typeArr\n    return http\n      .get(`${CFG.API_URL}resourceManage/config?configData=${configData}`)\n      .then(function (response) {\n        if (Array.isArray(typeArr)) {\n          return response.data.data\n        } else {\n          return response.data.data[typeArr]\n        }\n      })\n  },\n  /**\n   * 查\n   * @returns {*|Promise<AxiosResponse<any>|never>}\n   */\n  findArticleType () {\n    return this.findByType('articleType')\n  }\n\n}\nexport default DicService\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/service/DicService.js","import http from '../HttpInterceptor'\nimport CFG from '../Config'\n\nconst UserService = {\n  getUserInfo () {\n    return http\n      .get(`${CFG.API_URL}api/v10/user`)\n      .then(function (response) {\n        console.log('UserService:', response)\n        return response.data\n      })\n  }\n}\nexport default UserService\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/service/UserService.js","// import api from '@/apis/http'\nimport * as types from './../types.js'\nimport dicService from '../../common/service/DicService'\nimport userService from '../../common/service/UserService'\nconst state = {\n  // 请求数据时加载状态loading\n  fetchLoading: false,\n  title: '',\n  user: {'userName': null},\n  adShapeList: [],\n  resourcePlatformList: [],\n  productList: [],\n  editTemplateData: {}\n}\nconst getters = {\n  // 请求数据时加载状态\n  fetchLoading: state => state.fetchLoading,\n  userCookie: state => state.user,\n  resourcePlatformList: state => state.resourcePlatformList,\n  productList: state => state.productList,\n  adShapeList: state => state.adShapeList,\n  user: state => state.user,\n  editTemplateData: state => state.editTemplateData\n}\n\nconst actions = {\n  // 请求数据时状态loading\n  FETCH_LOADING ({\n    commit\n  }, res) {\n    // console.log('进入action===传入的res', res)\n    commit(types.FETCH_LOADING, res)\n  },\n  dicInit ({commit}) {\n    dicService.findByType(['resourcePlatform', 'product', 'adShape']).then((data) => {\n      commit('dicInit', {'resourcePlatformList': data.resourcePlatform, 'productList': data.product, 'adShapeList': data.adShape})\n    })\n  },\n  editTemplate ({ commit }, data) {\n    commit('editTemplate', data) // 更新editTemplate\n  },\n  userLogin ({commit}) {\n    userService.getUserInfo().then((data) => {\n      commit('userLogin', {'userName': data})\n    })\n  }\n}\n\nconst mutations = {\n  // 请求数据时loading\n  [types.FETCH_LOADING] (state, res) {\n    state.fetchLoading = res\n  },\n  userLogin: (state, data) => {\n    state.user = data\n  },\n  userLogout: (state, data) => {\n    state.user = data\n  },\n  editTemplate: (state, data) => {\n    state.editTemplateData = data\n  },\n  dicInit: (state, data) => {\n    state.adShapeList = data.adShapeList\n    state.resourcePlatformList = data.resourcePlatformList\n    state.productList = data.productList\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","export const USER_LOGIN = 'userLogin'\nexport const USER_LOGOUT = 'userLogout'\nexport const FETCH_LOADING = 'loading'\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/types.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport app from './modules/app'\n// polyfill for alipay browser on android\nvar Promise = require('es6-promise-polyfill').Promise\nif (!window.Promise) {\n  window.Promise = Promise\n}\nVue.use(Vuex)\n\nconst Store = new Vuex.Store({\n  modules: {\n    app\n  }\n})\n\nexport default Store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\nimport store from '../store'\nimport { Message } from 'element-ui'\n// import CFG from '../common/Config'\n// axios 配置\naxios.defaults.timeout = 5000\nlet axiosDate\n// http request 拦截器\naxios.interceptors.request.use(\n  config => {\n    // console.log('request interceptor :', config)\n    config.withCredentials = true // 开启跨域能力 是否携带cookie\n    if (store.state.token) {\n      config.headers.Authorization = `token ${store.state.token}`\n    }\n    if ((config.data && config.data.loading === 'false') || (config.params && config.params.loading === 'false')) {\n    } else {\n      axiosDate = new Date()\n      store.dispatch('FETCH_LOADING', true)\n    }\n    return config\n  },\n  err => {\n    return Promise.reject(err)\n  }\n)\n\n// http response 拦截器\naxios.interceptors.response.use(\n  response => {\n    // console.log('response interceptor  success:', response)\n    let oDate = new Date()\n    let time = oDate.getTime() - axiosDate.getTime()\n    if (time < 500) time = 500\n    setTimeout(() => {\n      store.dispatch('FETCH_LOADING', false)\n    }, time)\n    // store.dispatch('FETCH_LOADING', false)\n    // console.log('response interceptor :', response)\n    return response\n  },\n  error => {\n    store.dispatch('FETCH_LOADING', false)\n    axiosDate = new Date()\n    console.log('request interceptor error :', error.response)\n    var errorMsg = ''\n\n    if (error.response) {\n      switch (error.response.status) {\n        case 401:\n          // 401 清除token信息并跳转到登录页面\n\n         // var passportUrl = CFG.API_PASSPORT_URL.substring(0, CFG.API_PASSPORT_URL.length - 1)\n         // window.location.href = passportUrl + '/account/logout?service=' + encodeURIComponent(passportUrl + '?from=' + encodeURIComponent(window.location.href))\n      }\n\n      if (error.response.data && error.response.data.code && error.response.data.message) {\n        errorMsg = error.response.data && error.response.data.code && error.response.data.message\n        return Promise.reject(error.response.data)\n      } else {\n        errorMsg = (error.response.status + ' ' + error.response.statusText) || '系统异常,请稍后再试'\n      }\n    } else {\n      errorMsg = '服务超时,请稍后重试'\n    }\n    Message({\n      type: 'error',\n      message: errorMsg,\n      showClose: true,\n      center: true,\n      customClass: 'common_tip'\n    })\n\n    let errorData = { 'code': 0, 'message': errorMsg }\n    return Promise.reject(errorData)\n  }\n)\n\nexport default axios\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/HttpInterceptor.js","\nconst env = process.env.NODE_ENV === 'production' ? 'prod' : 'dev'\nconsole.log('环境变量: process.env=', process.env)\nexport default{\n  NODE_ENV: process.env.NODE_ENV,\n  ENV: env,\n  API_URL: process.env.API_URL,\n  API_PREVIEW_URL: process.env.API_PREVIEW_URL,\n  STATIC_URL: process.env.STATIC_URL,\n  STATIC_PREVIEW_URL: process.env.STATIC_PREVIEW_URL,\n  ROOT_URL: process.env.ROOT_URL,\n  API_SSO_URL: process.env.API_SSO_URL\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Config.js"],"sourceRoot":""}