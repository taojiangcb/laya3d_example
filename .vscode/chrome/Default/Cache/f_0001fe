LayaCallback("## LayaAir3D\u4e4b\u5149\u6e90\n\n\u706f\u5149\u57283D\u4e16\u754c\u4e2d\u5f88\u91cd\u8981\uff0c\u4e09\u7ef4\u7269\u4f53\u4ea7\u751f\u7acb\u4f53\u5149\u5f71\u53d8\u5316\u3001\u8272\u5f69\u8272\u8c03\u53d8\u5316\u3001\u6295\u5f71\u7b49\u53ef\u4f7f\u7528\u4e8e\u706f\u5149\u8bbe\u7f6e\u65b9\u5f0f\u8fbe\u5230\u3002\n\n## \u706f\u5149\u79cd\u7c7b\n\n\u706f\u5149\u7684\u79cd\u7c7b\u6709\u591a\u79cd\uff0c\u4e0d\u540c\u7684\u5149\u6e90\u5448\u73b0\u7684\u6548\u679c\u4e0d\u540c\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e0d\u540c\u7684\u53c2\u6570\u3002\u5728IDE\u521b\u5efa\u76843D\u9879\u76ee\u4e2d\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\u4ee3\u7801\u67e5\u770b\u4e0d\u540c\u7c7b\u522b\u7684\u706f\u5149\u6548\u679c\u3002 \n\n### \u70b9\u5149(PointLight)\n\n\u70b9\u5149\u662f\u5411\u56db\u9762\u516b\u65b9\u53d1\u5c04\u5149\u7ebf\u7684\u5149\u6e90\uff0c\u53c8\u79f0\u5168\u5411\u5149\u6216\u8005\u7403\u72b6\u5149\uff0c\u73b0\u5b9e\u4e2d\u7684\u70b9\u5149\u6e90\u6bd4\u5982\u706f\u6ce1\u3001\u8721\u70db\uff0c\u53ef\u4ee5\u611f\u89c9\u5230\u70b9\u5149\u6e90\u662f\u6709\u5f3a\u5ea6\u3001\u989c\u8272\u548c\u8870\u51cf\u534a\u5f84\u5c5e\u6027\u3002\n\n```java\n\t\/\/\u521b\u5efa\u70b9\u5149\n\tvar light:PointLight = scene.addChild(new PointLight()) as PointLight;\n\t\/\/\u79fb\u52a8\u706f\u5149\u4f4d\u7f6e\n\tlight.transform.translate(new Vector3(-3,5,0));\n\t\/\/\u8bbe\u7f6e\u70b9\u5149\u7167\u4eae\u8303\u56f4\n\tlight.range=6;\n\t\/\/\u8bbe\u7f6e\u70b9\u5149\u7684\u8870\u51cf\n\tlight.attenuation = new Vector3(0.01,.01,.03);\n```\nrange\u4e3a\u8bbe\u7f6e\u70b9\u5149\u6e90\u7684\u8303\u56f4\uff0c\u76f8\u5f53\u4e8e\u70b9\u5149\u7684\u7167\u5c04\u8303\u56f4\uff0c\u6570\u503c\u8d8a\u5927\uff0c\u5149\u7167\u8303\u56f4\u8d8a\u5927\uff0c\u56fe1\u4e2d\u56e0\u5149\u7167\u8303\u56f4\u8bbe\u7f6e\u4e0d\u5927\uff0c\u56e0\u6b64\u6ca1\u88ab\u5149\u7167\u7684\u5730\u65b9\u4e3a\u9ed1\u8272\uff0c\u56fe2\u4e2d\u5149\u7167\u8303\u56f4\u8d85\u51fa\u4e86\u706f\u5149\u4e0e\u6a21\u578b\u7684\u8ddd\u79bb\uff0c\u56e0\u6b64\u5168\u90e8\u88ab\u7167\u4eae\u3002\n\n\n![\u56fe\u72471](img\/1.png)\uff08\u56fe1\uff09  ![\u56fe\u72472](img\/2.png)\uff08\u56fe2\uff09\n\nattenuation\u4e3a\u8bbe\u7f6e\u70b9\u5149\u6e90\u7684\u8870\u51cf\uff0c\u6570\u503c\u8d8a\u5c0f\uff0c\u8870\u51cf\u8d8a\u5c11\uff0c\u56e0\u6b64\u5149\u7167\u8303\u56f4\u5185\u7684\u7269\u4f53\u4eae\u5ea6\u66f4\u9ad8\u3002\n\n\n\n\n### \u5e73\u884c\u5149(DirectionLight)\n\n\u5e73\u884c\u5149\u4e0e\u70b9\u5149\u533a\u522b\u8f83\u5927\uff0c\u5b83\u6709\u56fa\u5b9a\u7684\u4e00\u4e2a\u65b9\u5411\uff0c\u53ef\u901a\u8fc7\u5f27\u5ea6\u503c\u8bbe\u5b9a\uff0c\u5e76\u4e14\u4e5f\u6ca1\u6709\u8870\u51cf\u548c\u5149\u7167\u8303\u56f4\uff0c\u4f1a\u5bf9\u5168\u573a\u666f\u6240\u6709\u6a21\u578b\u8fdb\u884c\u7167\u4eae\u30023D\u4e16\u754c\u4e2d\u7ecf\u5e38\u7528\u6765\u6a21\u62df\u56fa\u5b9a\u65b9\u5411\u7684\u592a\u9633\u5149\u3002\n\n```java\n\t\/\/\u521b\u5efa\u5e73\u884c\u5149\n\tvar light:DirectionLight = scene.addChild(new DirectionLight()) as DirectionLight;\n\t\/\/\u8bbe\u7f6e\u5e73\u884c\u5149\u7684\u65b9\u5411\n\tlight.direction = new Vector3(0.5, -1, 0);\n```\n\ndirection\u4e3a\u5e73\u884c\u5149\u7684\u65b9\u5411\uff0c\u5206\u522b\u4ee3\u8868x\u3001y\u3001z\u8f74\u4e0a\u7684\u65b9\u5411\uff0c\u8d1f\u6570\u4e3a\u8d1f\u8f74\uff0c\u6b63\u6570\u4e3a\u6b63\u8f74\uff0c\u503c\u7684\u8303\u56f4\u4e3a-1\u20140\u20141\uff0c\u8d85\u8fc7\u8303\u56f4\u540e\u4e3a-1\u62161\uff0c\u521d\u5b66\u8005\u4eec\u53ef\u4ee5\u5728\u8fd9\u4e2a\u8303\u56f4\u5185\u8bbe\u503c\u89c2\u5bdf\u65b9\u5411\u7684\u53d8\u5316\u3002\n\n\n\n### \u805a\u5149(SpotLight)\n\n\u805a\u5149\u6307\u7684\u662f\u4ece\u7279\u5b9a\u5149\u6e90\u65b9\u5411\u5c04\u51fa\u7684\u5149\uff0c\u6bd4\u5982\u624b\u7535\u7b52\uff0c\u821e\u53f0\u7b52\u706f\u7b49\u3002\u5149\u7167\u533a\u57df\u6839\u636e\u8ddd\u79bb\u56e0\u7d20\u9010\u6e10\u653e\u5927\uff0c\u540c\u65f6\u5149\u7167\u533a\u57df\u8fb9\u7f18\u4e5f\u6709\u8870\u51cf\u73b0\u8c61\u3002\n```java\n\t\/\/\u6dfb\u52a0\u805a\u5149\n\tvar light:SpotLight=scene.addChild(new SpotLight()) as SpotLight;\n\t\/\/\u8bbe\u7f6e\u805a\u5149\u7684\u4f4d\u7f6e\n\tlight.transform.position=new Vector3(0,5,0)\n\t\/\/\u8bbe\u7f6e\u805a\u5149\u7684\u8870\u51cf\n\tlight.attenuation = new Vector3(0.1, 0, 0.1);\n\t\/\/\u8bbe\u7f6e\u805a\u5149\u7684\u65b9\u5411\n\tlight.direction=new Vector3(0, -1, 0);\n\t\/\/\u8bbe\u7f6e\u805a\u5149\u8303\u56f4\n\tlight.range=5;\n\t\/\/\u8bbe\u7f6e\u805a\u5149\u503c\n\tlight.spot=5;\n```\n\nattenuation \u4e3a\u805a\u5149\u7684\u8870\u51cf\uff0c\u8bbe\u7f6e\u7684\u503c\u8d8a\u5c0f\uff0c\u805a\u5149\u5149\u5708\u7684\u6a21\u7cca\u8d8a\u5c0f\uff0c\u53cd\u4e4b\u5149\u5708\u8d8a\u5927\u3002\n\ndirection\u4e3a\u805a\u5149\u7684\u65b9\u5411\uff0c\u65b9\u5411\u7684\u503c\u8bbe\u7f6e\u65b9\u5f0f\u4e0e\u5e73\u884c\u5149\u4e00\u81f4\u3002\n\nrange\u4e3a\u805a\u5149\u7684\u7167\u5c04\u8303\u56f4\uff0c\u4e0e\u70b9\u5149\u7c7b\u4f3c\uff0c\u533a\u522b\u53ea\u662f\u805a\u5149\u6709\u65b9\u5411\uff0c\u800c\u70b9\u5149\u65e0\u65b9\u5411\u3002\n\nspot\u4e3a\u805a\u5149\u503c\uff0c\u6570\u503c\u8d8a\u5c0f\uff0c\u5149\u7167\u8d8a\u5f3a\uff0c\u53cd\u4e4b\u8d8a\u5f31\uff0c\u56fe3\u4e2d\u805a\u5149\u503c\u4e3a5\uff0c\u56fe4\u4e2d\u805a\u5149\u503c\u4e3a50\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u81ea\u884c\u8c03\u6574\u3002\n\n![\u56fe\u72473](img\/3.png)\uff08\u56fe3\uff09  ![\u56fe\u72474](img\/4.png)\uff08\u56fe4\uff09\n\n\n\n## \u5149\u8272\u8981\u7d20\n\n\u573a\u666f\u4e2d\u4f7f\u7528\u4e86\u706f\u5149\u540e\uff0c\u5728\u706f\u5149\u8303\u56f4\u5185\u7684\u6240\u67093D\u6a21\u578b\u90fd\u5c06\u4ea7\u751f\u5f71\u54cd\uff0cLayaAir 3D\u5f15\u64ce\u4e2d\u7684\u706f\u5149\u5305\u62ec\u4e86\u4ee5\u4e0b\u8981\u7d20\uff0c\u7528\u4e8e\u8c03\u8282\u573a\u666f\u4e2d\u7684\u4eae\u5ea6\u3001\u989c\u8272\u7b49\u3002\n\n### \u73af\u5883\u989c\u8272(ambientColor)\n\n**Tips\uff1a\u5f15\u64ce1.7.9\u7248\u540e\u53d6\u6d88\u4e86\u706f\u5149\u7684\u73af\u5883\u989c\u8272\u8bbe\u7f6e\uff0c\u8001\u7248\u672c\u7167\u5e38\u53ef\u4f7f\u7528\u3002\u73af\u5883\u989c\u8272\u53ef\u5230\u6750\u8d28\u4e2d\u53bb\u8bbe\u7f6e\u3002**\n\n\u73af\u5883\u8272\u53ef\u4ee5\u7b80\u5355\u7684\u7406\u89e3\u573a\u666f\u7684\u6c14\u6c1b\u989c\u8272\u3002\u5bf9\u4e8e\u573a\u666f\u4e2d\u7684\u6a21\u578b\uff0c\u5b83\u4eec\u7684\u4eae\u9762\u4e0e\u6697\u9762\u4f1a\u540c\u65f6\u88ab\u73af\u5883\u8272\u5f71\u54cd\uff0c\u73af\u5883\u8272\u8d8a\u4eae\u6a21\u578b\u7684\u6574\u4f53\u4eae\u5ea6\u8d8a\u9ad8\u3002\u5f53\u7136\uff0c\u73af\u5883\u8272\u4e5f\u5e38\u7528\u4e8e\u8272\u8c03\u5904\u7406\uff0c\u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u8272\u8c03\u6574\u51fa\u7ea2\u6a59\u9ec4\u7eff\u9752\u84dd\u7d2b\u7b49\u6c14\u6c1b\u3002\n\n\u4ee3\u7801\u8bbe\u7f6e\u73af\u5883\u8272\u5982\u4e0b\uff0c\u4ea7\u751f\u4e86\u9ec4\u8272\u7684\u73af\u5883\u5149\u7167\uff0c\u6a21\u578b\u6574\u4f53\u7f69\u4e0a\u4e86\u4e00\u5c42\u9ec4\u8272\uff08\u56fe5\uff09\u3002\n\n\u5728\u4e4b\u524d\u7684\u8bfe\u7a0b\u4e2d\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e09\u7ef4\u5411\u91cf\u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u989c\u8272\u503c\uff0c\u6211\u4eec\u518d\u6b21\u56de\u987e\u4e00\u4e0b\uff0c\u5411\u91cf\u4e2d\u4e09\u4e2a\u5143\u7d20\u5206\u522b\u4ee3\u8868\u4e86\u7ea2\u3001\u7eff\u3001\u84dd\u989c\u8272\uff0c\u7531\u5b83\u4eec\u6765\u7ec4\u5408\u6210\u5343\u53d8\u4e07\u5316\u7684\u8272\u5f69\uff0c\u6bcf\u79cd\u989c\u8272\u7684\u6700\u9ad8\u503c\u4e3a1\uff0c\u8d85\u8fc7\u540e\u5c06\u4ea7\u751f\u66b4\u5149\u6548\u679c\u3002\n\n```java\n\/\/\u8bbe\u7f6e\u706f\u5149\u7684\u73af\u5883\u8272\u4e3a\u7eaf\u9ec4\u8272\uff08\u8ba1\u7b97\u673a\u4e2d\uff0c\u7ea2+\u7eff=\u9ec4\uff09\nlight.ambientColor = new Vector3(1,1,0);\n```\n\n![\u56fe\u72475](img\/5.png)\uff08\u56fe5\uff09  \n\n\n\n### \u6f2b\u53cd\u5c04\u989c\u8272(diffuseColor)\n\n**Tips\uff1a\u5f15\u64ce1.7.9\u7248\u540e\u589e\u52a0\u4e86color\u706f\u5149\u989c\u8272\u5c5e\u6027\u8bbe\u7f6e\uff0c\u4e0ediffuseColor\u4f5c\u7528\u76f8\u540c\u3002**\n\n\u4e5f\u79f0\u4e3a\u5149\u6e90\u989c\u8272\uff0c\u662f\u706f\u5149\u5bf9\u6a21\u578b\u53d7\u5149\u9762\u7684\u4eae\u5ea6\u53ca\u8272\u5f69\u5f71\u54cd\uff0c\u6bd4\u5982\u6a21\u62df\u8721\u70db\u5149\uff0c\u53ef\u5bf9\u5149\u6e90\u8272\u8fdb\u884c\u504f\u9ec4\u8c03\u6574\uff0c\u90a3\u4e48\u6a21\u578b\u53d7\u5149\u9762\u4f1a\u52a0\u5165\u9ec4\u8272\u7684\u8272\u8c03\u3002\n\n\u4e0b\u5217\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e86\u5149\u6e90\u989c\u8272\u4e3a\u7eaf\u7ea2\u8272\uff0c\u90a3\u4e48\u6a21\u578b\u53d7\u5230\u5149\u7167\u7684\u90e8\u5206\u5c31\u4f1a\u4ea7\u751f\u7ea2\u8272\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u6211\u4eec\u4e4b\u524d\u8bbe\u7f6e\u4e86\u73af\u5883\u5149\uff08\u6750\u8d28\u73af\u5883\u5149\u8272\u6216\u8001\u7248\u672c\u706f\u5149\u73af\u5883\u5149\u8272\uff09\u4e3a\u9ec4\u8272\uff0c\u6240\u4ee5\u53d7\u5149\u9762\u4e3a\u7ea2+\u9ec4=\u6a59\u8272\u7684\u989c\u8272\u6df7\u5408\uff08\u56fe6\uff09\u3002\n\n```java\n\/\/\u8bbe\u7f6e\u706f\u5149\u7684\u6f2b\u53cd\u5c04\u8272\u4e3a\u7eaf\u7ea2\u8272\n\/\/light.diffuseColor = new Vector3(1,0,0);\n\/\/\u8bbe\u7f6e\u706f\u5149\u989c\u8272\u4e3a\u7eaf\u7ea2\u8272(\u4e0ediffuseColor\u4f5c\u7528\u76f8\u540c)\nlight.color = new Vector3(1,0,0);\n```\n\n![\u56fe\u72476](img\/6.png)\uff08\u56fe6\uff09 \n\n\u5173\u95ed\u73af\u5883\u5149\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff08\u56fe7\uff09\u6548\u679c\uff0c\u56e0\u4e3a\u6ca1\u6709\u9ec4\u8272\u7684\u73af\u5883\u8272\u5f71\u54cd\uff0c\u6a21\u578b\u7684\u53d7\u5149\u9762\u5c31\u5168\u90e8\u53d8\u6210\u4e86\u5149\u6e90\u8272\u3002\u56e0\u6b64\u5728\u9879\u76ee\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5f97\u7efc\u5408\u8003\u8651\u706f\u5149\u7684\u591a\u79cd\u5149\u8272\u5c5e\u6027\u7684\u6df7\u5408\u5f71\u54cd\u3002\n\n![\u56fe\u72477](img\/7.png)\uff08\u56fe7\uff09 \n\n\n\n### \u9ad8\u5149\u989c\u8272(specularColor)\n\n**Tips\uff1a\u5f15\u64ce1.7.9\u7248\u540e\u53d6\u6d88\u4e86\u706f\u5149\u7684\u9ad8\u5149\u989c\u8272\u8bbe\u7f6e\uff0c\u8001\u7248\u672c\u7167\u5e38\u53ef\u4f7f\u7528\u3002\u9ad8\u5149\u989c\u8272\u53ef\u5230\u6750\u8d28\u4e2d\u53bb\u8bbe\u7f6e\u3002**\n\n\u5bf9\u4e8e\u6a21\u578b\u6765\u8bf4\uff0c\u6b63\u5bf9\u7740\u5149\u6e90\u65b9\u5411\uff0c\u5e76\u4e14\u89d2\u5ea6\u8f83\u5c16\u9510\u5149\u6ed1\u7684\u5730\u65b9\u4f1a\u4ea7\u751f\u9ad8\u5149\uff0c\u9ad8\u5149\u7684\u4eae\u5ea6\u4e0e\u989c\u8272\u53ef\u901a\u8fc7\u706f\u5149\u7684\u9ad8\u5149\u989c\u8272\u8fdb\u884c\u8c03\u6574\uff0c\u9ed8\u8ba4\u7684\u9ad8\u5149\u989c\u8272\u4e3a\u7eaf\u767d\u8272\u3002\n\n\u8c03\u6574\u6a21\u578b\u7684\u9ad8\u5149\u8272\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u5728\u706f\u5149\u4e0a\u8bbe\u7f6e\u8c03\u5149\u989c\u8272\uff0c\u4e00\u79cd\u662f\u5728\u6750\u8d28\u4e0a\u8bbe\u7f6e\u9ad8\u5149\u8d34\u56fe\uff0c\u5927\u591a\u60c5\u51b5\u662f\u76f4\u63a5\u5728\u6750\u8d28\u4e0a\u8c03\u6574\u9ad8\u5149\u8272\uff0c\u5904\u7406\u8d77\u6765\u66f4\u65b9\u4fbf\uff0c\u6548\u679c\u66f4\u771f\u5b9e\u3002\n\n\u56e0\u4e3abox\u6a21\u578b\u65e0\u6cd5\u4ea7\u751f\u9ad8\u5149\uff0c\u6211\u4eec\u7528\u6bd4\u8f83\u5149\u6ed1\u7684\u7403\u4f53\u6a21\u578b\u6765\u89c2\u5bdf\uff0c\u56fe8-1\u4e2d\u4e3a\u4ee3\u7801\u4e2d\u672a\u8bbe\u7f6e\u9ad8\u5149\u989c\u8272\uff0c\u5f15\u64ce\u9ed8\u8ba4\u503c\u4e3a\u7eaf\u767d\u8272\uff0c\u56e0\u6b64\u663e\u793a\u51fa\u4e86\u767d\u8272\u8c03\u5149\u3002\u800c\u4e0b\u5217\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u8bbe\u7f6e\u9ad8\u5149\u989c\u8272\u4e3a\u84dd\u8272\uff0c\u56fe8-2\u4e2d\u4e3a\u53ef\u4ee5\u6e05\u6670\u7684\u770b\u5230\uff0c\u7403\u9762\u4e0a\u4ea7\u751f\u4e86\u84dd\u8272\u7684\u9ad8\u5149\uff0c\u56e0\u4e3a\u4e0e\u6f2b\u53cd\u5c04\u7ea2\u8272\u76f8\u52a0\u5f62\u6210\u4e86\u7d2b\u8272\u3002\n\n```java\n\/\/\u8bbe\u7f6e\u9ad8\u5149\u989c\u8272\u4e3a\u84dd\nlight.specularColor = new Vector3(0.5,0.5,1);\n```\n\n![\u56fe\u72478-1](img\/8-1.png)\uff08\u56fe8-1\uff09 ![\u56fe\u72478-2](img\/8-2.png)\uff08\u56fe8-2\uff09 \n\n\n\n### \u6295\u5f71(shadow)\n\n\u6295\u5f71\u662f\u706f\u5149\u7167\u5c04\u6a21\u578b\u65f6\u4ea7\u751f\u7684\u5373\u65f6\u9634\u5f71\uff0c\u53ef\u968f\u7740\u706f\u5149\u89d2\u5ea6\u3001\u706f\u5149\u5f3a\u5ea6\u3001\u6a21\u578b\u4f4d\u7f6e\u7b49\u53d8\u5316\u800c\u53d8\u5316\u3002\u6295\u5f71\u662f3D\u4e16\u754c\u6700\u91cd\u8981\u7684\u56e0\u7d20\u4e4b\u4e00\uff0c\u80fd\u4ea7\u751f\u66f4\u52a0\u5f3a\u70c8\u7684\u7acb\u4f53\u611f\u3002\n\n\u5373\u65f6\u9634\u5f71\u975e\u5e38\u635f\u8017\u6027\u80fd\uff0c\u4e0d\u80fd\u7528\u5f97\u592a\u591a\uff0c\u7279\u522b\u662f\u6e38\u620f\u573a\u666f\uff0c\u6a21\u578b\u91cf\u8f83\u5927\uff0c\u4e00\u822c\u6211\u4eec\u4e0d\u4f7f\u7528\u5373\u65f6\u6295\u5f71\uff0c\u800c\u4f7f\u7528\u9759\u6001\u7684\u5149\u7167\u8d34\u56fe\u3002\n\n\u8981\u8ba9\u573a\u666f\u4e2d\u4ea7\u751f\u6295\u5f71\uff0c\u6211\u4eec\u9700\u4e86\u89e3\u706f\u5149\u7684\u4ee5\u4e0b\u5c5e\u6027\uff1a\n\n**shadow\uff1a**\u662f\u5426\u5f00\u542f\u6295\u5f71\uff0c\u5e03\u5c14\u503c\uff0c\u8bbe\u7f6e\u4e3atrue\u540e\u751f\u6548\u3002\n\n**shadowDistance\uff1a**\u4ea7\u751f\u6295\u5f71\u7684\u8303\u56f4\uff0c\u8303\u56f4\u662f\u6307\u6444\u50cf\u673a\u5230\u6a21\u578b\u7684\u8ddd\u79bb\uff0c\u5355\u4f4d\u4e3a\u7c73\u3002\u5927\u4e8e\u8fd9\u4e2a\u8303\u56f4\u6a21\u578b\u5c06\u4e0d\u4f1a\u63a5\u53d7\u6295\u5f71\u4e0e\u4ea7\u751f\u6295\u5f71\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6839\u636e\u573a\u666f\u5927\u5c0f\u8fdb\u884c\u8bbe\u7f6e\u3002\n\n**shadowPSSMCount\uff1a**\u4ea7\u751f\u9634\u5f71\u8d34\u56fe\u7684\u6570\u91cf\uff0c\u6570\u91cf\u8d8a\u9ad8\uff0c\u9634\u5f71\u8d8a\u7ec6\u817b\uff0c\u6027\u80fd\u635f\u8017\u8d8a\u5927\u3002\n\n**shadowResolution\uff1a**\u6295\u5f71\u7684\u8d28\u91cf\uff0c\u6295\u5f71\u8303\u56f4\u4e2d\u7684\u9634\u5f71\u5927\u5c0f\u3002\u901a\u8fc7\u6570\u503c\u8bbe\u7f6e\u8d28\u91cf\uff0c\u6570\u503c\u8d8a\u5927\uff0c\u6295\u5f71\u8d28\u91cf\u8d8a\u9ad8\uff0c\u6027\u80fd\u635f\u8017\u4e5f\u4f1a\u968f\u4e4b\u52a0\u9ad8\u3002\u6295\u5f71\u7684\u8d28\u91cf\u503c\u662f\u4ee52\u7684N\u6b21\u5e42\u4e3a\u5355\u4f4d\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u4e3a512\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u62101024\u30012048.....\u7b49\u3002\n\n**shadowPCFType\uff1a**\u9634\u5f71\u6a21\u7cca\u7b49\u7ea70-3\uff0c\u6a21\u7cca\u503c\u8d8a\u5927\uff0c\u9634\u5f71\u8d8a\u67d4\u548c\uff0c\u6548\u679c\u8d8a\u597d\uff0c\u4f46\u66f4\u8017\u6027\u80fd\u3002\n\n\n\n\u53ea\u5f00\u542f\u548c\u8bbe\u7f6e\u706f\u5149\u7684\u5c5e\u6027\u8fd8\u4e0d\u591f\uff0c\u8fd8\u9700\u5728\u6a21\u578b\u4e0a\u4fee\u6539\u6295\u5f71\u5c5e\u6027\uff0c\u5206\u522b\u4e3a\uff1a\n\n**receiveShadow\uff1a**\u662f\u5426\u63a5\u53d7\u6295\u5f71\uff0c\u5f53\u6a21\u578b\u6b64\u5c5e\u6027\u4e3atrue\u65f6\uff0c\u8ba1\u7b97\u51fa\u7684\u6295\u5f71\u4f1a\u5728\u6b64\u6a21\u578b\u4e0a\u663e\u793a\u51fa\u6765\u3002\u5728\u6e38\u620f\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u573a\u666f\u7684\u5730\u9762\uff0c\u53ca\u573a\u666f\u4e2d\u53ef\u8d70\u52a8\u533a\u57df\u4e2d\u7684\u6a21\u578bcastShadow\u5c5e\u6027\u8bbe\u7f6e\u4e3atrue\u3002\n\n**castShadow\uff1a**\u662f\u5426\u4ea7\u751f\u6295\u5f71\uff0c\u5f53\u6a21\u578b\u6b64\u5c5e\u6027\u4e3atrue\u65f6\uff0c\u706f\u5149\u6839\u636e\u4ea7\u751f\u9634\u5f71\u7684\u6a21\u578b\u4f4d\u7f6e\u3001\u6a21\u578b\u7f51\u683c\u5f62\u72b6\u5927\u5c0f\u3001\u4e0e\u706f\u5149\u7684\u89d2\u5ea6\u7b49\u8fdb\u884c\u6295\u5f71\u8ba1\u7b97\uff0c\u7136\u540e\u5728\u63a5\u53d7\u9634\u5f71\u7684\u6a21\u578b\u4e0a\u4ea7\u751f\u6295\u5f71\u3002\u6bd4\u5982\u573a\u666f\u4e2d\u7684\u89d2\u8272\u3001NPC\u7b49\u6d3b\u52a8\u6e38\u620f\u5143\u7d20\u53ef\u4ee5\u5f00\u542f\u6b64\u5c5e\u6027\u3002\n\n\u4e3a\u4e86\u80fd\u5f88\u597d\u7684\u7406\u89e3\u6295\u5f71\uff0c\u6211\u4eec\u5728\u4e0b\u5217\u793a\u4f8b\u4ee3\u7801\u4e2d\u4f7f\u7528\u5e73\u884c\u5149\uff0c\u5e76\u521b\u5efa\u76d2\u5b50box\u6a21\u578b\u53ca\u7403\u4f53sphere\u6a21\u578b\u52a0\u8f7d\u5230\u573a\u666f\u4e2d\uff0c\u7403\u4f53\u7528\u4e8e\u4ea7\u751f\u9634\u5f71\uff0c\u76d2\u5b50\u4e0a\u63a5\u53d7\u6295\u5f71\u3002\n\n```java\npackage {\n\t\n\timport laya.d3.core.BaseCamera;\n\timport laya.d3.core.Camera;\n\timport laya.d3.core.MeshSprite3D;\n\timport laya.d3.core.Sprite3D;\n\timport laya.d3.core.light.DirectionLight;\n\timport laya.d3.core.material.StandardMaterial;\n\timport laya.d3.core.scene.Scene;\n\timport laya.d3.math.Vector3;\n\timport laya.d3.math.Vector4;\n\timport laya.d3.resource.Texture2D;\n\timport laya.d3.resource.models.BoxMesh;\n\timport laya.d3.resource.models.SphereMesh;\n\timport laya.display.Stage;\n\timport laya.utils.Stat;\n\n\tpublic class LayaAir3D \n    {\n\t\tpublic function LayaAir3D()\n        {\n\t\t\t\/\/\u521d\u59cb\u5316\u5f15\u64ce\n\t\t\tLaya3D.init(1000, 500,true);\n\t\t\t\n\t\t\t\/\/\u9002\u914d\u6a21\u5f0f\n\t\t\tLaya.stage.scaleMode = Stage.SCALE_FULL;\n\t\t\tLaya.stage.screenMode = Stage.SCREEN_NONE;\n\n\t\t\t\/\/\u5f00\u542f\u7edf\u8ba1\u4fe1\u606f\n\t\t\tStat.show();\n\t\t\t\n\t\t\t\/\/\u6dfb\u52a03D\u573a\u666f\n\t\t\tvar scene:Scene = Laya.stage.addChild(new Scene()) as Scene;\n\t\t\t \n\t\t\t\/\/\u521b\u5efa\u6444\u50cf\u673a(\u6a2a\u7eb5\u6bd4\uff0c\u8fd1\u8ddd\u88c1\u526a\uff0c\u8fdc\u8ddd\u88c1\u526a)\n\t\t\tvar camera:Camera = new Camera( 0, 0.1, 100);\n\t\t\t\/\/\u52a0\u8f7d\u5230\u573a\u666f\n\t\t\tscene.addChild(camera);\n\t\t\t\/\/\u79fb\u52a8\u6444\u50cf\u673a\u4f4d\u7f6e\n\t\t\tcamera.transform.translate(new Vector3(0, 4, 8));\n\t\t\t\/\/\u65cb\u8f6c\u6444\u50cf\u673a\u89d2\u5ea6\n\t\t\tcamera.transform.rotate(new Vector3( -30, 0, 0), true, false);\n\t\t\t\n\t\t\t\/\/\u521b\u5efa\u65b9\u5411\u5149\n\t\t    var light:DirectionLight = scene.addChild(new DirectionLight()) as DirectionLight;\n\t\t    \/\/\u79fb\u52a8\u706f\u5149\u4f4d\u7f6e\n\t\t    light.transform.translate(new Vector3(0,5,0));\n\t\t\t\/\/\u8bbe\u7f6e\u706f\u5149\u65b9\u5411\n\t\t    light.direction = new Vector3(0.3, -1, 0);\n\t\t\t\/\/\u8bbe\u7f6e\u706f\u5149\u6f2b\u53cd\u5c04\u989c\u8272\n\t\t\tlight.diffuseColor = new Vector3(1, 0, 0);\n          \n          \t\/\/\u8bbe\u7f6e\u706f\u5149\u73af\u5883\u8272\n\/\/\t\t    scene.ambientColor = new Vector3(1, 1, 0); \n\t\t \n\t\t    \/\/\u6dfb\u52a0\u706f\u5149\u6295\u5f71\n\t\t    light.shadow=true;\n\t\t\t\/\/\u4ea7\u751f\u6295\u5f71\u7684\u8303\u56f4\uff08\u5982\u8fc7\u5c0f\u5c06\u4e0d\u4f1a\u4ea7\u751f\u6295\u5f71\uff09\n\t\t    light.shadowDistance=45;\n          \t\/\/\u751f\u6210\u9634\u5f71\u8d34\u56fe\u6570\u91cf\n\t\t\tlight.shadowPSSMCount = 1;\n\t\t\t\/\/\u6a21\u7cca\u7b49\u7ea7,\u8d8a\u5927\u8d8a\u9ad8,\u6548\u679c\u66f4\u597d\uff0c\u66f4\u8017\u6027\u80fd\n          \tlight.shadowPCFType=1;\n\t\t\t\/\/\u6295\u5f71\u8d28\u91cf\n\t\t    light.shadowResolution=2048;\n\n\t\t\t \n\t\t\t\/\/\u521b\u5efa\u76d2\u5b50\u6a21\u578b\n\t\t\tvar box:MeshSprite3D = scene.addChild(new MeshSprite3D(new BoxMesh(1.5,1.5,1.5))) as MeshSprite3D;\n\t\t\t\/\/\u81ea\u8eaby\u5ea7\u6807\u65cb\u8f6c\n\t\t\tbox.transform.rotate(new Vector3(0,45,0),true,false);\n\t\t\t\/\/\u63a5\u53d7\u9634\u5f71\n\t\t\tbox.meshRender.receiveShadow=true;\n\t\t\t\n\t\t\t\/\/\u521b\u5efa\u7403\u4f53\u6a21\u578b\n\t\t\tvar sphere:MeshSprite3D = scene.addChild(new MeshSprite3D(new SphereMesh())) as MeshSprite3D;\n\t\t\t\/\/\u6309\u7236\u7a7a\u95f4\u79fb\u52a8\u7403\u4f53\n\t\t\tsphere.transform.translate(new Vector3(0,1.5,0),false);\n\t\t\t\/\/\u4ea7\u751f\u9634\u5f71\n\t\t\tsphere.meshRender.castShadow=true;\n\t\t\t\n\t\t\t\/\/\u521b\u5efa\u6750\u8d28\n\t\t\tvar material:StandardMaterial = new StandardMaterial();\n\t\t\t\/\/\u6750\u8d28\u52a0\u8f7d\u6f2b\u53cd\u5c04\u8d34\u56fe\n\t\t\tmaterial.diffuseTexture = Texture2D.load(\"res\/layabox.png\");\n\t\t\t\/\/\u4e3a\u6a21\u578b\u8d4b\u6750\u8d28\uff08\u5355\u4e2a\u6750\u8d28\u53ef\u8d4b\u7ed9\u591a\u4e2a\u6a21\u578b\uff09\n\t\t\tsphere.meshRender.material = material;\n\t\t\tbox.meshRender.material = material;\n\t\t}\t\t\n\t}\n}\n```\n\n\n\n![\u56fe\u72479](img\/9.png)\uff08\u56fe9\uff09  ![\u56fe\u724710](img\/10.png)\uff08\u56fe10\uff09 \n\n\u4ee5\u4e0a\u4e24\u56fe\u4e3a\u5f00\u542f\u6295\u5f71\u524d\u4e0e\u5f00\u542f\u6295\u5f71\u540e\u7684\u6548\u679c\uff0c\u6ce8\u610f\uff1a\u9700\u8981\u5728\u706f\u5149\u4e0e\u6a21\u578b\u4e0a\u90fd\u8bbe\u7f6e\u4ee5\u4e0a\u4ecb\u7ecd\u7684\u76f8\u5173\u5c5e\u6027\uff0c\u7f3a\u4e86\u4efb\u610f\u73af\u8282\u90fd\u65e0\u6cd5\u4ea7\u751f\u9634\u5f71\u3002\n\n")